conditional guard test case courtesy of J. Borg.
